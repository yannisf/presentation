<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" 
	xmlns:ui="http://java.sun.com/jsf/facelets">
	
	<h:panelGrid columns="2">
		<a4j:commandButton value="Add User" action="#{UserController.initializeUser}" styleClass="actionbutton" reRender="userformfields"/>
	</h:panelGrid>
	
	<h:panelGroup id="userformfields">
		<h:panelGrid columns="4" id="userform" rendered="#{UserController.userformRender}">
			<h:outputText value="#{m.username}: "/>
			<h:inputText value="#{UserController.user.username}"/>
			<h:commandButton value="#{m.add}" action="#{UserController.addUser}" styleClass="actionbutton" />
			<a4j:commandButton value="#{m.cancel}" action="#{UserController.cancelUser}" styleClass="actionbutton" reRender="userformfields"/>
		</h:panelGrid>
	</h:panelGroup>

	<h:dataTable value="#{UserController.users}" var="user" rendered="#{not empty UserController.users}">
		<h:column>
			<f:facet name="header"> #{m.id} </f:facet>
			#{user.id}
		</h:column>
		<h:column>
			<f:facet name="header"> #{m.username} </f:facet>
			#{user.username}
		</h:column>
		<h:column>
			<f:facet name="header"> #{m.options} </f:facet>
			Edit/Delete/Associate
		</h:column>
	</h:dataTable>
			
</ui:composition>
